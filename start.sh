#!/bin/bash

# ==================== 配置区域 ====================
# 可以在这里修改配置，或者通过环境变量覆盖

# 服务器配置
export HOST=${HOST:-"0.0.0.0"}        # 监听地址，0.0.0.0表示监听所有网络接口
export PORT=${PORT:-5000}             # 端口号
export DEBUG=${DEBUG:-"False"}        # 是否开启调试模式（生产环境建议False）

# 日志配置
LOG_DIR="logs"                        # 日志目录
LOG_FILE="${LOG_DIR}/app_$(date +%Y%m%d_%H%M%S).log"  # 日志文件名

# ==================== 启动脚本 ====================

# 创建日志目录
mkdir -p ${LOG_DIR}

echo "=========================================="
echo "教师端AI备课助手 - 启动脚本"
echo "=========================================="
echo "监听地址: ${HOST}:${PORT}"
echo "调试模式: ${DEBUG}"
echo "日志文件: ${LOG_FILE}"
echo "=========================================="

# 启动应用（前台运行，带日志）
python app.py 2>&1 | tee ${LOG_FILE}

